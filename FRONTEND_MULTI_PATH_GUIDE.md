# Frontend Multi-Path Planning Guide

## Overview
Frontend р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ъ **Multi-Path Planning** р╕Лр╕╢р╣Ир╕Зр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕кр╕Фр╕Зр╕лр╕ер╕▓р╕вр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ р╣Бр╕ер╕░р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╕Др╕░р╣Бр╕Щр╕Щр╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З

## р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕лр╕ер╕▒р╕Б

### 1. pathPlanningApi.js

#### р╣Ар╕Юр╕┤р╣Ир╕б Parameters р╣Гр╕лр╕бр╣И
```javascript
export const DEFAULT_PLANNING_PARAMS = {
  // ... existing params ...

  // Multi-path Settings
  enable_multi_path: false,
  max_alternative_paths: 5,
};
```

#### р╣Ар╕Юр╕┤р╣Ир╕б Preset р╣Гр╕лр╕бр╣И
```javascript
export const PLANNING_PRESETS = {
  // ... existing presets ...

  multi_path_real: {
    name: 'ЁЯФА р╕лр╕ер╕▓р╕вр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З (р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕гр╕┤р╕З)',
    description: 'р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕ер╕▓р╕вр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Юр╕гр╣Йр╕нр╕бр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ (р╣Гр╕Кр╣Й Sentinel-2)',
    params: {
      enable_multi_path: true,
      max_alternative_paths: 5,
      ndvi_source: 'sentinel2',
      soil_consider_moisture: true,
      // ... other params
    }
  }
};
```

### 2. PathPlanningPanel.jsx

#### р╣Ар╕Юр╕┤р╣Ир╕б State р╕кр╕│р╕лр╕гр╕▒р╕Ъ Multi-Path
```javascript
// Multi-path settings
const [enableMultiPath, setEnableMultiPath] = useState(false);
const [maxAlternativePaths, setMaxAlternativePaths] = useState(5);
```

#### р╣Ар╕Юр╕┤р╣Ир╕б Props
```javascript
const PathPlanningPanel = ({
  // ... existing props ...
  plannedRoute,              // р╣Гр╕лр╕бр╣И: response р╕Ир╕▓р╕Б API
  onSelectAlternativePath    // р╣Гр╕лр╕бр╣И: callback р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕нр╕╖р╣Ир╕Щ
}) => {
```

#### р╣Ар╕Юр╕┤р╣Ир╕б UI р╕кр╕│р╕лр╕гр╕▒р╕Ъ Multi-Path Settings
- тЬЕ Checkbox р╣Ар╕Ыр╕┤р╕Ф/р╕Ыр╕┤р╕Ф multi-path
- тЬЕ Slider р╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З (2-10)
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕ер╕вр╕╕р╕Чр╕Шр╣Мр╕Хр╣Ир╕▓р╕Зр╣Ж

#### р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╣Ир╕зр╕Щр╣Бр╕кр╕Фр╕З Alternative Paths
- тЬЕ р╣Бр╕кр╕Фр╕Зр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕╡р╣Ир╕Фр╕╡р╕Чр╕╡р╣Ир╕кр╕╕р╕Ф (Best Path) р╕Юр╕гр╣Йр╕нр╕бр╣Ар╕Щр╣Йр╕Щр╕кр╕╡р╣Ар╕Вр╕╡р╕вр╕з
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Б р╕Юр╕гр╣Йр╕нр╕б:
  - Strategy name
  - Rank (р╕нр╕▒р╕Щр╕Фр╕▒р╕Ъ)
  - Overall score
  - Distance & elevation stats
  - р╕Др╕░р╣Бр╕Щр╕Щр╕вр╣Ир╕нр╕вр╣Ж (distance_score, elevation_score)
- тЬЕ р╕Др╕ер╕┤р╕Бр╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З

### 3. MapboxGPXViewer.jsx

#### р╣Ар╕Юр╕┤р╣Ир╕б State
```javascript
const [selectedPathIndex, setSelectedPathIndex] = useState(0);
```

#### р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ handleSelectAlternativePath
```javascript
const handleSelectAlternativePath = (altPath) => {
  // Extract coordinates from alternative path GeoJSON
  const feature = altPath.path_geojson.features[0];
  const coordinates = extractCoordinatesFromGeoJSON(feature);
  const elevations = extractElevations(coordinates);

  // Update GPX data
  setGpxData({ coordinates, elevations });

  // Update stats
  setPathStats({
    distance: calculatePathDistance(coordinates),
    waypoints: coordinates.length,
    statistics: altPath.statistics,
    terrain_info: plannedRoute?.terrain_info
  });

  // Display route
  displayRoute(gpxDataFromAlt);
};
```

#### р╕Ыр╕гр╕▒р╕Ъ handlePlanPath
- р╣Ар╕Юр╕┤р╣Ир╕б `statistics` р╣Бр╕ер╕░ `terrain_info` р╣Гр╕Щ pathStats
- Reset `selectedPathIndex` р╣Ар╕бр╕╖р╣Ир╕нр╕Др╕│р╕Щр╕зр╕Ур╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╣Гр╕лр╕бр╣И

## р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╣Ар╕Ыр╕┤р╕Ф Multi-Path Planning
1. р╣Ар╕ер╕╖р╕нр╕Бр╣Вр╕лр╕бр╕Ф "ЁЯЧ║я╕П р╕зр╕▓р╕Зр╣Бр╕Ьр╕Щр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З"
2. р╕Бр╕Ф "тЦ╝ р╣Бр╕кр╕Фр╕Зр╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Вр╕▒р╣Йр╕Щр╕кр╕╣р╕З"
3. р╣Гр╕Щр╕кр╣Ир╕зр╕Щ "ЁЯФА Multi-Path Planning", р╣Ар╕Ыр╕┤р╕Ф checkbox "тЬЕ р╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕лр╕ер╕▓р╕вр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З"
4. р╕Ыр╕гр╕▒р╕Ър╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕кр╕╣р╕Зр╕кр╕╕р╕Ф (2-10)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕╕р╕Фр╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╣Бр╕ер╕░р╕Ыр╕ер╕▓р╕вр╕Чр╕▓р╕З
1. р╕Бр╕Ф "ЁЯУН р╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕╕р╕Фр╕Ър╕Щр╣Бр╕Ьр╕Щр╕Чр╕╡р╣И"
2. р╣Гр╕Кр╣Й **Shift + р╕Др╕ер╕┤р╕Бр╕Вр╕зр╕▓** р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕╕р╕Ф A р╣Бр╕ер╕░ B

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╕Др╕│р╕Щр╕зр╕Ур╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З
1. р╕Бр╕Ф "ЁЯЪА р╕Др╕│р╕Щр╕зр╕Фр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З"
2. р╕гр╕нр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М (р╕нр╕▓р╕Ир╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓ 10-30 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 4: р╕Фр╕╣р╣Бр╕ер╕░р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З
р╣Ар╕бр╕╖р╣Ир╕нр╕Др╕│р╕Щр╕зр╕Ур╣Ар╕кр╕гр╣Зр╕И р╕Ир╕░р╣Ар╕лр╣Зр╕Щ:

#### ЁЯУК р╕кр╕Цр╕┤р╕Хр╕┤р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З (Best Path)
```
ЁЯУК р╕кр╕Цр╕┤р╕Хр╕┤р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З
р╕гр╕░р╕вр╕░р╕Чр╕▓р╕З: 4.52 р╕Бр╕б.
р╕Ир╕│р╕Щр╕зр╕Щр╕Ир╕╕р╕Ф: 856
р╕Др╕зр╕▓р╕бр╕кр╕╣р╕Зр╕кр╕░р╕кр╕б: 125 р╕б.
р╣Ар╕зр╕ер╕▓р╕Др╕│р╕Щр╕зр╕Ф: 8.5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡

ЁЯЧ║я╕П р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ар╕╣р╕бр╕┤р╕Ыр╕гр╕░р╣Ар╕Чр╕и
ЁЯМ┐ NDVI (р╕Юр╕╖р╕Кр╕Юр╕гр╕гр╕У)
   р╣Бр╕лр╕ер╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е: sentinel2
   Mean: 0.450
   Range: [-0.02, 0.82]

ЁЯМН Soil (р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Фр╕┤р╕Щ)
   р╣Бр╕лр╕ер╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е: synthetic
   р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤: clay, sand, silt
   р╕Кр╕Щр╕┤р╕Фр╕Фр╕┤р╕Щ: 5 р╕Кр╕Щр╕┤р╕Ф (р╕Кр╕Щр╕┤р╕Фр╕лр╕ер╕▒р╕Б 52.3%)

ЁЯЫгя╕П OpenStreetMap: р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Цр╕Щр╕Щ
```

#### ЁЯФА р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Б (5 р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З)
```
тнР р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕╡р╣Ир╕Фр╕╡р╕Чр╕╡р╣Ир╕кр╕╕р╕Ф (р╕Бр╕│р╕ер╕▒р╕Зр╣Бр╕кр╕Фр╕З)     #1
   р╕Др╕░р╣Бр╕Щр╕Щр╕гр╕зр╕б: 87.9/100
   ЁЯУП 4.52 р╕Бр╕б.    тЫ░я╕П тЖС125 р╕б.
   ЁЯТп р╕гр╕░р╕вр╕░: 93     ЁЯТп р╕Др╕зр╕▓р╕бр╕кр╕╣р╕З: 88

PREFER ROADS                          #2
   р╕Др╕░р╣Бр╕Щр╕Щ: 85.2/100
   ЁЯУП 5.12 р╕Бр╕б.    тЫ░я╕П тЖС98 р╕б.
   ЁЯТп р╕гр╕░р╕вр╕░: 85     ЁЯТп р╕Др╕зр╕▓р╕бр╕кр╕╣р╕З: 92
   ЁЯСЖ р╕Др╕ер╕┤р╕Бр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Щр╕╡р╣Й

SHORTEST                              #3
   р╕Др╕░р╣Бр╕Щр╕Щ: 82.8/100
   ЁЯУП 4.21 р╕Бр╕б.    тЫ░я╕П тЖС156 р╕б.
   ЁЯТп р╕гр╕░р╕вр╕░: 98     ЁЯТп р╕Др╕зр╕▓р╕бр╕кр╕╣р╕З: 75
   ЁЯСЖ р╕Др╕ер╕┤р╕Бр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Щр╕╡р╣Й

EASY TERRAIN                          #4
   р╕Др╕░р╣Бр╕Щр╕Щ: 79.5/100
   ЁЯУП 5.85 р╕Бр╕б.    тЫ░я╕П тЖС102 р╕б.
   ЁЯТп р╕гр╕░р╕вр╕░: 72     ЁЯТп р╕Др╕зр╕▓р╕бр╕кр╕╣р╕З: 90
   ЁЯУР р╕Др╕зр╕▓р╕бр╕Кр╕▒р╕Щр╕кр╕╣р╕Зр╕кр╕╕р╕Ф: 15.2┬░
   ЁЯСЖ р╕Др╕ер╕┤р╕Бр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Щр╕╡р╣Й

AVOID STEEP                           #5
   р╕Др╕░р╣Бр╕Щр╕Щ: 75.3/100
   ЁЯУП 6.12 р╕Бр╕б.    тЫ░я╕П тЖС89 р╕б.
   ЁЯТп р╕гр╕░р╕вр╕░: 68     ЁЯТп р╕Др╕зр╕▓р╕бр╕кр╕╣р╕З: 95
   ЁЯУР р╕Др╕зр╕▓р╕бр╕Кр╕▒р╕Щр╕кр╕╣р╕Зр╕кр╕╕р╕Ф: 12.8┬░
   ЁЯСЖ р╕Др╕ер╕┤р╕Бр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Щр╕╡р╣Й
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 5: р╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕нр╕╖р╣Ир╕Щ
- р╕Др╕ер╕┤р╕Бр╕Чр╕╡р╣Ир╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Бр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
- р╣Бр╕Ьр╕Щр╕Чр╕╡р╣Ир╕Ир╕░р╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╣Бр╕кр╕Фр╕Зр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Щр╕▒р╣Йр╕Щр╕Чр╕▒р╕Щр╕Чр╕╡
- Statistics р╕Ир╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Хр╕▓р╕бр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Б

## Response Structure р╕Ир╕▓р╕Б Backend

### Single Path Response
```json
{
  "success": true,
  "message": "Path found successfully with 856 waypoints",
  "path_geojson": { ... },
  "path_gpx": "<?xml...",
  "statistics": {
    "total_distance_km": 4.52,
    "total_distance_m": 4520.5,
    "waypoints": 856,
    "total_ascent": 125.3,
    "total_descent": 98.7,
    "min_elevation": 15.0,
    "max_elevation": 140.3,
    "avg_elevation": 67.8,
    "max_slope": 28.5,
    "mean_slope": 8.2
  },
  "planner_used": "astar",
  "computation_time_seconds": 8.5,
  "terrain_info": { ... }
}
```

### Multi-Path Response
```json
{
  "success": true,
  "message": "Path found successfully with 856 waypoints (5 alternatives generated)",
  "path_geojson": { ... },  // Best path
  "path_gpx": "<?xml...",
  "statistics": {
    "total_distance_km": 4.52,
    "waypoints": 856,
    "total_ascent": 125.3,
    "max_slope": 28.5,
    "mean_slope": 8.2,
    // Scoring
    "distance_score": 92.5,
    "elevation_score": 88.3,
    "safety_score": 91.0,
    "terrain_score": 75.8,
    "overall_score": 87.9,
    // Composition
    "terrain_composition": {
      "ROAD": 45.2,
      "GRASSLAND": 35.8,
      "FOREST_LIGHT": 15.3
    },
    "soil_composition": {
      "LOAM": 52.3,
      "SANDY_LOAM": 28.5,
      "CLAY_LOAM": 15.2
    }
  },
  "alternative_paths": [
    {
      "strategy": "prefer_roads",
      "rank": 2,
      "path_geojson": { ... },
      "path_gpx": "<?xml...",
      "statistics": {
        "total_distance_km": 5.12,
        "overall_score": 85.2,
        // ... other stats
      }
    },
    {
      "strategy": "shortest",
      "rank": 3,
      "path_geojson": { ... },
      "statistics": {
        "total_distance_km": 4.21,
        "overall_score": 82.8,
        // ... other stats
      }
    }
    // ... more alternatives
  ],
  "total_paths_found": 5,
  "planner_used": "astar",
  "computation_time_seconds": 12.3,
  "terrain_info": {
    "has_ndvi": true,
    "ndvi_source": "sentinel2",
    "ndvi_stats": {
      "mean": 0.45,
      "min": -0.02,
      "max": 0.82
    },
    "has_soil": true,
    "soil_source": "synthetic",
    "has_osm_roads": true
  }
}
```

## р╕Др╕░р╣Бр╕Щр╕Щр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щ (Scoring System)

### Overall Score (0-100)
р╕Др╕░р╣Бр╕Щр╕Щр╕гр╕зр╕бр╕Др╕│р╕Щр╕зр╕Ур╕Ир╕▓р╕Б:
```
overall_score =
  0.35 ├Ч distance_score +    // р╕гр╕░р╕вр╕░р╕Чр╕▓р╕Зр╕кр╕▒р╣Йр╕Щ = р╕Фр╕╡
  0.25 ├Ч elevation_score +   // р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Др╕зр╕▓р╕бр╕кр╕╣р╕Зр╕Щр╣Йр╕нр╕в = р╕Фр╕╡
  0.25 ├Ч safety_score +      // р╕Др╕зр╕▓р╕бр╕Кр╕▒р╕Щр╕Щр╣Йр╕нр╕в = р╕Фр╕╡
  0.15 ├Ч terrain_score       // р╕ар╕╣р╕бр╕┤р╕Ыр╕гр╕░р╣Ар╕Чр╕ир╕Зр╣Ир╕▓р╕в = р╕Фр╕╡
```

### Distance Score (0-100)
- 100 = р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕кр╕▒р╣Йр╕Щр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф
- 0 = р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕вр╕▓р╕зр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф

### Elevation Score (0-100)
- 100 = р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Др╕зр╕▓р╕бр╕кр╕╣р╕Зр╕Щр╣Йр╕нр╕вр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф (total_ascent + total_descent)
- 0 = р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Др╕зр╕▓р╕бр╕кр╕╣р╕Зр╕бр╕▓р╕Бр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф

### Safety Score (0-100)
- 100 = р╕Др╕зр╕▓р╕бр╕Кр╕▒р╕Щр╕Щр╣Йр╕нр╕вр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф (max_slope)
- 0 = р╕Др╕зр╕▓р╕бр╕Кр╕▒р╕Щр╕бр╕▓р╕Бр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф

### Terrain Score (0-100)
р╕Вр╕╢р╣Йр╕Щр╕нр╕вр╕╣р╣Ир╕Бр╕▒р╕Ър╕нр╕Зр╕Др╣Мр╕Ыр╕гр╕░р╕Бр╕нр╕Ър╕ар╕╣р╕бр╕┤р╕Ыр╕гр╕░р╣Ар╕Чр╕и:
- ROAD: 1.0 р╕Др╕░р╣Бр╕Щр╕Щ ├Ч % р╕Чр╕╡р╣Ир╣Ар╕Фр╕┤р╕Щр╕Ър╕Щр╕Цр╕Щр╕Щ
- GRASSLAND: 0.8 р╕Др╕░р╣Бр╕Щр╕Щ ├Ч % р╕Чр╕╡р╣Ир╣Ар╕Фр╕┤р╕Щр╕Ър╕Щр╕Чр╕╕р╣Ир╕Зр╕лр╕Нр╣Йр╕▓
- FOREST_LIGHT: 0.5 р╕Др╕░р╣Бр╕Щр╕Щ ├Ч % р╕Чр╕╡р╣Ир╣Ар╕Фр╕┤р╕Щр╣Гр╕Щр╕Ыр╣Ир╕▓р╣Ар╕Ър╕▓
- FOREST_DENSE: 0.2 р╕Др╕░р╣Бр╕Щр╕Щ ├Ч % р╕Чр╕╡р╣Ир╣Ар╕Фр╕┤р╕Щр╣Гр╕Щр╕Ыр╣Ир╕▓р╕лр╕Щр╕▓
- MOUNTAIN: 0.1 р╕Др╕░р╣Бр╕Щр╕Щ ├Ч % р╕Чр╕╡р╣Ир╣Ар╕Фр╕┤р╕Щр╕Ър╕Щр╕ар╕╣р╣Ар╕Вр╕▓

## р╕Бр╕ер╕вр╕╕р╕Чр╕Шр╣Мр╕Бр╕▓р╕гр╕лр╕▓р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З (Path Strategies)

### 1. BALANCED (р╕кр╕бр╕Фр╕╕р╕е)
- р╣Гр╕Кр╣Й cost multipliers р╕Ыр╕Бр╕Хр╕┤
- р╕кр╕бр╕Фр╕╕р╕ер╕Чр╕╕р╕Бр╕Ыр╕▒р╕Ир╕Ир╕▒р╕в
- **р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ**: р╕Бр╕▓р╕гр╣Ар╕Фр╕┤р╕Щр╕Чр╕▓р╕Зр╕Чр╕▒р╣Ир╕зр╣Др╕Ы

### 2. PREFER_ROADS (р╕Кр╕нр╕Ър╕Цр╕Щр╕Щ)
- р╕Др╣Ир╕▓ cost р╕Вр╕нр╕Зр╕Цр╕Щр╕Щр╕Хр╣Ир╕│р╕бр╕▓р╕Б (├Ч 0.05)
- р╕Др╣Ир╕▓ cost р╕Вр╕нр╕Зр╕Щр╕нр╕Бр╕Цр╕Щр╕Щр╕кр╕╣р╕З (├Ч 3.0)
- **р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ**: р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Ар╕Фр╕┤р╕Щр╕Ър╕Щр╕Цр╕Щр╕Щр╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ

### 3. SHORTEST (р╕кр╕▒р╣Йр╕Щр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф)
- р╕ер╕Фр╕Др╕зр╕▓р╕бр╣Бр╕Хр╕Бр╕Хр╣Ир╕▓р╕Зр╕Вр╕нр╕З cost р╕гр╕░р╕лр╕зр╣Ир╕▓р╕З terrain types
- р╕вр╕▒р╕Зр╕Др╕Зр╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Щр╣Йр╕│
- **р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ**: р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕гр╕░р╕вр╕░р╕Чр╕▓р╕Зр╕кр╕▒р╣Йр╕Щр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф

### 4. EASY_TERRAIN (р╕ар╕╣р╕бр╕┤р╕Ыр╕гр╕░р╣Ар╕Чр╕ир╕Зр╣Ир╕▓р╕в)
- р╕Кр╕нр╕Ъ grassland р╣Бр╕ер╕░р╕Цр╕Щр╕Щ
- р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕ар╕╣р╣Ар╕Вр╕▓р╣Бр╕ер╕░р╕Др╕зр╕▓р╕бр╕Кр╕▒р╕Щр╕кр╕╣р╕З
- **р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ**: р╕Ьр╕╣р╣Йр╣Ар╕Фр╕┤р╕Щр╕Чр╕▓р╕Зр╕бр╕╖р╕нр╣Гр╕лр╕бр╣И

### 5. AVOID_STEEP (р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Кр╕▒р╕Щ)
- Penalty р╕кр╕╣р╕Зр╕бр╕▓р╕Бр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕Кр╕▒р╕Щ > 20┬░
- Penalty р╕кр╕╣р╕Зр╕бр╕▓р╕Бр╣Ж р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕Кр╕▒р╕Щ > 35┬░
- **р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ**: р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕кр╕╣р╕З

### 6. AVOID_FOREST (р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Ыр╣Ир╕▓)
- Penalty р╕кр╕╣р╕Зр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ыр╣Ир╕▓р╕лр╕Щр╕▓ (├Ч 10.0)
- Penalty р╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕Зр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ыр╣Ир╕▓р╣Ар╕Ър╕▓ (├Ч 5.0)
- **р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ**: р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕Ыр╣Ир╕▓

### 7. PREFER_LOW_ELEVATION (р╕Кр╕нр╕Ър╕Чр╕╡р╣Ир╕гр╕▓р╕Ъ)
- р╕Кр╕нр╕Ър╕гр╕░р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕кр╕╣р╕Зр╕Хр╣Ир╕│
- р╕вр╕▒р╕Зр╕Др╕Зр╕Кр╕нр╕Ър╕Цр╕Щр╕Щ
- **р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ъ**: р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Ар╕Фр╕┤р╕Щр╣Гр╕Щр╕Чр╕╡р╣Ир╕гр╕▓р╕Ъ

## Tips & Best Practices

### 1. р╕Бр╕▓р╕гр╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З
- **2-3 р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З**: р╣Ар╕гр╣Зр╕з, р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕в
- **5 р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З**: р╕кр╕бр╕Фр╕╕р╕е (р╣Бр╕Щр╕░р╕Щр╕│)
- **8-10 р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З**: р╕Кр╣Йр╕▓, р╕бр╕╡р╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Бр╕бр╕▓р╕Б

### 2. р╕Бр╕▓р╕гр╣Гр╕Кр╣Й Presets
- **multi_path_real**: р╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕гр╕┤р╕Зр╕Ир╕▓р╕Б Sentinel-2 (р╕Кр╣Йр╕▓р╕Бр╕зр╣Ир╕▓ р╣Бр╕Хр╣Ир╣Бр╕бр╣Ир╕Щр╕вр╕│)
- **fast_synthetic**: р╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕│р╕ер╕нр╕З (р╣Ар╕гр╣Зр╕з, р╣Ар╕лр╕бр╕▓р╕░р╕Чр╕Фр╕кр╕нр╕Ъ)

### 3. р╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щр╕Др╕░р╣Бр╕Щр╕Щ
- **Overall Score > 85**: р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Фр╕╡р╕бр╕▓р╕Б
- **Overall Score 70-85**: р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Фр╕╡
- **Overall Score < 70**: р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З

### 4. р╕Бр╕▓р╕гр╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З
р╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╕Хр╕▓р╕бр╕зр╕▒р╕Хр╕Цр╕╕р╕Ыр╕гр╕░р╕кр╕Зр╕Др╣М:
- **р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Ар╕гр╣Зр╕з**: р╣Ар╕ер╕╖р╕нр╕Б SHORTEST (distance_score р╕кр╕╣р╕З)
- **р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в**: р╣Ар╕ер╕╖р╕нр╕Б AVOID_STEEP (safety_score р╕кр╕╣р╕З)
- **р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Зр╣Ир╕▓р╕в**: р╣Ар╕ер╕╖р╕нр╕Б EASY_TERRAIN (terrain_score р╕кр╕╣р╕З)
- **р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕кр╕бр╕Фр╕╕р╕е**: р╣Ар╕ер╕╖р╕нр╕Б BALANCED (overall_score р╕кр╕╣р╕З)

## Troubleshooting

### р╣Др╕бр╣Ир╕бр╕╡ Alternative Paths
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕**:
- `enable_multi_path = false`
- Backend р╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ multi-path
- Path planning р╕ер╣Йр╕бр╣Ар╕лр╕ер╕з

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й**:
1. р╣Ар╕Ыр╕┤р╕Ф checkbox "тЬЕ р╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕лр╕ер╕▓р╕вр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З"
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ backend version (р╕Хр╣Йр╕нр╕З >= 2.0)
3. р╕Фр╕╣ console log р╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣ error

### р╕Др╕░р╣Бр╕Щр╕Щр╣Ар╕Ыр╣Зр╕Щ N/A
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕**:
- Backend р╣Др╕бр╣Ир╕кр╣Ир╕З statistics
- р╣Гр╕Кр╣Й version р╣Ар╕Бр╣Ир╕▓

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й**:
1. р╕нр╕▒р╕Юр╣Ар╕Фр╕Х backend
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ response structure

### р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╣Др╕бр╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕бр╕╖р╣Ир╕нр╕Др╕ер╕┤р╕Б
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕**:
- `onSelectAlternativePath` р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕кр╣Ир╕Зр╕бр╕▓
- path_geojson р╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕е

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й**:
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ MapboxGPXViewer props
2. р╕Фр╕╣ console.log р╣Гр╕Щ handleSelectAlternativePath

## р╕кр╕гр╕╕р╕Ы

Frontend р╕Хр╕нр╕Щр╕Щр╕╡р╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ъ:
- тЬЕ р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕лр╕ер╕▓р╕вр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ (2-10 р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З)
- тЬЕ р╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Др╕░р╣Бр╕Щр╕Щр╣Бр╕ер╕░р╕кр╕Цр╕┤р╕Хр╕┤р╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З
- тЬЕ р╕Бр╕▓р╕гр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З (distance, elevation, safety, terrain)
- тЬЕ р╕Бр╕▓р╕гр╣Ар╕ер╕╖р╕нр╕Бр╕Фр╕╣р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Б
- тЬЕ р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕гр╕┤р╕Зр╕Ир╕▓р╕Б Sentinel-2 р╣Бр╕ер╕░ Soil
- тЬЕ р╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕нр╕Зр╕Др╣Мр╕Ыр╕гр╕░р╕Бр╕нр╕Ъ terrain р╣Бр╕ер╕░ soil

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М**: р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕лр╣Зр╕Щр╕Чр╕▓р╕Зр╣Ар╕ер╕╖р╕нр╕Бр╕лр╕ер╕▓р╕вр╣Ж р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З р╣Бр╕ер╕░р╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Бр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Др╕Фр╣Й!
